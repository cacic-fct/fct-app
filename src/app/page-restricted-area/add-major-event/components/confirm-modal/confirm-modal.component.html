<div class="event-container">
  <ion-card-header>
    <ion-card-title>{{ dataForm.value.name }}</ion-card-title>
  </ion-card-header>

  <ion-card-content *ngIf="dataForm.value.description">
    <p class="ion-text-justify">{{ dataForm.value.description }}</p>
  </ion-card-content>

  <div class="card-section ion-padding-horizontal">
    <div class="card-label">
      <ion-icon name="calendar-outline" aria-hidden="true"></ion-icon>
      Datas
    </div>

    <ion-item lines="none">
      Data do evento
      <span slot="end">
        {{ getDateFromISO(dataForm.value.eventStartDate) | date: 'dd/MM' }}
        <ng-container *ngIf="dateRange">
          {{ ' - ' + (getDateFromISO(dataForm.value.eventEndDate) | date: 'dd/MM') }}
        </ng-container>
      </span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.subscriptionStartDate && dataForm.value.subscriptionEndDate">
      Inscrição
      <span slot="end">
        {{ getDateFromISO(dataForm.value.subscriptionStartDate) | date: 'dd/MM' }}
        {{ ' - ' + (getDateFromISO(dataForm.value.subscriptionEndDate) | date: 'dd/MM') }}
      </span>
    </ion-item>
  </div>

  <div class="card-section ion-padding-horizontal">
    <div class="card-label">
      <ion-icon name="wallet-outline" aria-hidden="true"></ion-icon>
      Valores
    </div>

    <ng-container *ngIf="!isEventPaid; else notFree">
      <ion-item lines="none">
        <ion-label>Gratuito</ion-label>
      </ion-item>
    </ng-container>

    <ng-template #notFree>
      <ng-container *ngIf="dataForm.value.priceSingle; then singlePrice; else multiPrice"> </ng-container>
    </ng-template>

    <ng-template #singlePrice>
      <ion-item lines="none">
        Preço único
        <span slot="end">{{ dataForm.value.priceSingle * 1.0 | currency: 'BRL' }}</span>
      </ion-item>
    </ng-template>

    <ng-template #multiPrice>
      <ion-item lines="none" *ngIf="dataForm.value.priceStudents">
        Alunos da Unesp
        <span slot="end">{{ dataForm.value.priceStudents * 1.0 | currency: 'BRL' }}</span>
      </ion-item>

      <ion-item lines="none" *ngIf="dataForm.value.priceOtherStudents">
        Alunos
        <span slot="end">{{ dataForm.value.priceOtherStudents * 1.0 | currency: 'BRL' }}</span>
      </ion-item>

      <ion-item lines="none" *ngIf="dataForm.value.priceOtherStudents">
        Professores
        <span slot="end">{{ dataForm.value.priceProfessors * 1.0 | currency: 'BRL' }}</span>
      </ion-item>
    </ng-template>
  </div>

  <div class="card-section ion-padding-horizontal" *ngIf="isEventPaid">
    <div class="card-label">
      <ion-icon name="cash-outline" aria-hidden="true"></ion-icon>
      Informações de pagamento
    </div>

    <ion-item lines="none" *ngIf="dataForm.value.accountChavePix">
      <ion-label>Chave pix</ion-label>
      <span slot="end">{{ dataForm.value.accountChavePix }}</span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.accountBank">
      <ion-label>Banco</ion-label>
      <span slot="end">{{ dataForm.value.accountBank }}</span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.accountName">
      <ion-label>Nome completo</ion-label>
      <span slot="end">{{ dataForm.value.accountName }}</span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.accountDocument">
      <ion-label>CPF ou CNPJ</ion-label>
      <span slot="end">{{ dataForm.value.accountDocument }}</span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.accountAgency">
      <ion-label>Agência</ion-label>
      <span slot="end">{{ dataForm.value.accountAgency }}</span>
    </ion-item>

    <ion-item lines="none" *ngIf="dataForm.value.accountNumber">
      <ion-label>Conta</ion-label>
      <span slot="end">{{ dataForm.value.accountNumber }}</span>
    </ion-item>

    <ion-card-content *ngIf="dataForm.value.additionalPaymentInformation">
      <p class="ion-text-justify pre-wrap">{{ dataForm.value.additionalPaymentInformation }}</p>
    </ion-card-content>
  </div>

  <p *ngIf="dataForm.value.maxCourses" class="ion-padding-horizontal">
    Pode se inscrever em até {{ dataForm.value.maxCourses }} minicursos
  </p>
  <p *ngIf="dataForm.value.maxLectures" class="ion-padding-horizontal">
    Pode se inscrever em até {{ dataForm.value.maxLectures }} palestras
  </p>

  <div class="ion-padding">
    <ion-button disabled="">Inscreva-se</ion-button>

    <ion-button *ngIf="dataForm.value.buttonUrl" disabled="" fill="clear">
      {{ dataForm.value.buttonText || 'Saiba mais' }}
    </ion-button>
  </div>
</div>

<ion-grid style="width: 100%">
  <ion-row>
    <ion-col>
      <ion-button style="width: 100%" fill="clear" (click)="closeModal()">Cancelar</ion-button>
    </ion-col>
    <ion-col>
      <ion-button style="width: 100%" fill="clear" (click)="onSubmit()">Confirmar</ion-button>
    </ion-col>
  </ion-row>
</ion-grid>
