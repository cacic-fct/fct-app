<ion-list style="max-width: 1600px; display: block" class="margin-horizontal-auto">
  <ng-container *ngIf="items$ | async; let items; else: loading">
    <ion-item
      *ngFor="let item of items"
      style="cursor: pointer"
      [style.--background]="courses[item.course] ? courses[item.course].color + '25' : undefined"
      [routerLink]="['./evento', item.id]">
      <img [src]="getEmoji(item.icon)" class="twemoji" slot="start" aria-hidden="true" loading="lazy" />

      <ion-label>
        <h2 class="ion-text-wrap">{{ item.name }}</h2>
        <h3 class="ion-text-wrap">{{ item.shortDescription }}</h3>
        <p *ngIf="courses[item.course]">
          {{ courses[item.course].name }}
        </p>
      </ion-label>
      <div slot="end">
        <h4 style="font-weight: 400">
          {{ getDateFromTimestamp(item.date) | date: 'HH:mm' }}
        </h4>
      </div>
    </ion-item>
    <h1 *ngIf="items.length === 0" class="ion-text-center">Nenhum evento encontrado</h1>
  </ng-container>

  <ng-template #loading>
    <ion-list>
      <ion-item *ngFor="let number of [0, 1]">
        <ion-thumbnail slot="start">
          <ion-skeleton-text></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <h3>
            <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
          </h3>
          <p>
            <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text animated style="width: 30%"></ion-skeleton-text>
          </p>
        </ion-label>
        <div slot="end">
          <h4>
            <ion-skeleton-text animated style="width: 50px"></ion-skeleton-text>
          </h4>
        </div>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-list>
