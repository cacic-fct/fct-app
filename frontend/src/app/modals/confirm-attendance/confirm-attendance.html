<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/menu"></ion-back-button>
    </ion-buttons>
    <ion-title>Registrar presença</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  @if (eventInfo$ | async; as eventInfo) {
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ eventInfo.name }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
        <ion-item>
          <ion-input
            label="Insira o código informado"
            labelPlacement="floating"
            formControlName="code"
            type="text"
            maxlength="4"></ion-input>
        </ion-item>
      </form>
    </ion-card-content>
  </ion-card>
  } @else {
  <ion-progress-bar type="indeterminate"></ion-progress-bar>
  }
</ion-content>

<swal
  #swalConfirm
  title="Presença confirmada!"
  icon="success"
  [heightAuto]="false"
  [showCancelButton]="false"
  [showCloseButton]="false"
  [showConfirmButton]="false">
</swal>

<swal
  #swalAlreadyConfirmed
  title="Presença já confirmada"
  icon="warning"
  [heightAuto]="false"
  [showCancelButton]="false"
  [showCloseButton]="false"
  [showConfirmButton]="false">
</swal>

<swal
  #swalNotFound
  title="Evento não encontrado"
  icon="error"
  [heightAuto]="false"
  [showCancelButton]="false"
  [showCloseButton]="false"
  [showConfirmButton]="false">
</swal>

<swal
  #swalNotOnTime
  title="Fora do período de coleta de presença"
  icon="error"
  [heightAuto]="false"
  [showCancelButton]="false"
  [showCloseButton]="false"
  [showConfirmButton]="false">
</swal>
